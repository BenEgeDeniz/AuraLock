---

# AuraLock

AuraLock is a Python-based service that enhances the convenience of your Linux Mint Cinnamon desktop by automatically locking or unlocking the screen based on the proximity of a specified Bluetooth device, such as a fitness band or smartphone.

## Features

- **Automatic Locking**: Locks your desktop when the designated Bluetooth device moves out of range.
- **Automatic Unlocking**: Unlocks your desktop when the Bluetooth device comes back within a predefined range.
- **Customizable Configuration**: Easily adjust distance thresholds, RSSI values, and other parameters via a user-friendly `config.json` file.
- **Desktop Notifications**: Receive on-screen notifications when your screen is locked or unlocked.
- **Seamless Integration**: Runs as a background service managed by `systemd`, ensuring continuous monitoring of your Bluetooth device.

## Requirements

- **Operating System**: Linux Mint (Cinnamon Desktop)
- **Python Version**: Python 3.7 or higher
- **Hardware**: Bluetooth Low Energy (BLE) support on your device
- **Service Management**: `systemd` for managing the background service

## Installation

### 1. Clone the Repository

First, clone the AuraLock repository to your local machine. It’s recommended to clone it to your home directory for easier configuration.

```bash
git clone https://github.com/BenEgeDeniz/AuraLock.git
cd AuraLock
```

### 2. Configure AuraLock

Before running the service, you need to customize the `config.json` file. This file allows you to set the MAC address of your Bluetooth device and adjust other parameters like RSSI values and distance thresholds.

Edit `config.json` to match your environment. Most users will only need to update the `TARGET_MAC_ADDRESS` with the MAC address of their Bluetooth device. The default settings should work well in most environments.

Example `config.json`:

```json
{
    "TARGET_MAC_ADDRESS": "A0:69:74:34:35:6E",
    "RSSI_AT_1M": -53,
    "PATH_LOSS_EXPONENT": 2,
    "DISTANCE_THRESHOLD_CM": 200,
    "NEARBY_DISTANCE_CM": 30,
    "TIME_THRESHOLD_SECONDS": 3
}
```

### 3. Install Dependencies

AuraLock depends on the `bleak` Python library for Bluetooth communication. Install it using `apt`:

```bash
sudo apt install python3-bleak
```

### 4. Set Up the Systemd Service

To run AuraLock as a background service, you need to create a `systemd` service file.

1. Open a terminal and create the service file:

   ```bash
   sudo nano /etc/systemd/system/auralock.service
   ```

2. Copy and paste the following content into the file. Replace the placeholders in curly braces (`{}`) with the appropriate values for your system (don't forget to remove the curly braces):

   ```ini
   [Unit]
   Description=AuraLock Bluetooth RSSI Monitoring Service
   After=network.target

   [Service]
   Type=simple
   ExecStart=/usr/bin/python3 {PATH_TO_CLONED_REPOSITORY}/run_auralock.py
   Restart=always
   User={YOUR_USERNAME}
   WorkingDirectory={PATH_TO_CLONED_REPOSITORY}
   Environment="DISPLAY=:0"
   Environment="XAUTHORITY=/home/{YOUR_USERNAME}/.Xauthority"
   StandardOutput=journal
   StandardError=journal
   SyslogIdentifier=auralock

   [Install]
   WantedBy=multi-user.target
   ```

   - **`PATH_TO_CLONED_REPOSITORY`**: The directory where you cloned the AuraLock repository.
   - **`YOUR_USERNAME`**: Your Linux username.

3. Save and close the file.

### 5. Enable and Start AuraLock

To start AuraLock automatically at boot, enable the service:

```bash
sudo systemctl enable auralock.service
```

Start the service immediately:

```bash
sudo systemctl start auralock.service
```

To check the status of the service and ensure it’s running correctly, use:

```bash
sudo systemctl status auralock.service
```

### 6. Troubleshooting

If you encounter issues, such as missing notifications, make sure your system's notification daemon is installed and running. For example, you can install `dunst` using:

```bash
sudo apt install dunst
```

To view logs generated by AuraLock, which can help with troubleshooting:

```bash
sudo journalctl -u auralock.service
```

If the screen locks unexpectedly, even when the device is within range, consider increasing the `TIME_THRESHOLD_SECONDS` parameter in your `config.json`. This can help mitigate potential Bluetooth interference.

## Contributing

Contributions to AuraLock are welcome! Whether it's reporting bugs, suggesting improvements, or submitting code, your input is valuable. Feel free to open issues or pull requests on the GitHub repository.

---
