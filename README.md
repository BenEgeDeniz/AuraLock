# AuraLock

AuraLock is a Python-based service designed to automatically lock or unlock your Linux Mint Cinnamon desktop based on the proximity of a specific Bluetooth device (such as a fitness band). 

## Features

- **Automatic Locking**: Locks the desktop if the designated Bluetooth device is out of range.
- **Automatic Unlocking**: Unlocks the desktop if the device is within a specified range.
- **Customizable Distance Thresholds**: Configure distance thresholds to trigger lock/unlock actions via a `config.json` file.
- **Notification Support**: Sends desktop notifications when the screen is locked or unlocked.
- **Systemd Service**: Runs as a background service using `systemd` to continuously monitor the Bluetooth device.

## Requirements

- Linux Mint (Cinnamon Desktop)
- Python 3.7 or higher
- Bluetooth Low Energy (BLE) support on your device
- Systemd for managing the service

## Installation

### 1. Clone the Repository

Note the location where you cloned the repository! We are going to use it in the systemd service file.

```bash
git clone https://github.com/BenEgeDeniz/AuraLock.git
cd auralock
```

### 2. Configure AuraLock

Edit the `config.json` file to customize the distance thresholds, RSSI values, and other parameters according to your environment and preferences.

Example `config.json`:
```json
{
    "TARGET_MAC_ADDRESS": "A0:69:74:34:35:6E",
    "RSSI_AT_1M": -53,
    "PATH_LOSS_EXPONENT": 2,
    "DISTANCE_THRESHOLD_CM": 200,
    "NEARBY_DISTANCE_CM": 30,
    "TIME_THRESHOLD_SECONDS": 3
}
```

### 3. Install Dependencies

Install the required Python packages using `apt`:

```bash
sudo apt install python3-bleak
```

### 4. Create the Systemd Service

Create a `systemd` service file to run AuraLock as a background service.

1. Create and open the service file:
   ```bash
   sudo nano /etc/systemd/system/auralock.service
   ```

2. Copy and paste the following content into the file:

   Edit the parts with all uppercase characters and between curly braces (remove the curly braces, of course) according to your machine configuration.

   ```ini
   [Unit]
   Description=AuraLock Bluetooth RSSI Monitoring Service
   After=network.target

   [Service]
   Type=simple
   ExecStart=/usr/bin/python3 {THE PATH YOU CLONED THE REPOSITORY TO}/run_auralock.py
   Restart=always
   User={YOUR_USERNAME}
   WorkingDirectory=/home/{YOUR_USERNAME}/auralock
   Environment="DISPLAY=:0"
   Environment="XAUTHORITY=/home/{YOUR_USERNAME}/.Xauthority"
   StandardOutput=journal
   StandardError=journal
   SyslogIdentifier=auralock

   [Install]
   WantedBy=multi-user.target
   ```

4. Save and exit the file.

### 5. Enable and Start the Service

Enable and start the AuraLock service:

```bash
sudo systemctl enable auralock.service
sudo systemctl start auralock.service
```

You can check the status of the service with:

```bash
sudo systemctl status auralock.service
```

### 6. Troubleshooting

If you encounter issues such as missing notifications, ensure that your notification daemon (e.g., `dunst`) is installed and running. You can install it using:

```bash
sudo apt install dunst
```

To view the logs generated by AuraLock, use:

```bash
sudo journalctl -u auralock.service
```

## Contributing

Contributions are welcome! Feel free to submit issues or pull requests to improve AuraLock.
